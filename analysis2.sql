SELECT
sum(if(b.entries[0].athlete_id=3414968 and b.entries[0].rank=1, 1, if(b.entries[1].athlete_id=3414968 and b.entries[1].rank=1, 1, if(b.entries[2].athlete_id=3414968 and b.entries[2].rank=1, 1, if(b.entries[3].athlete_id=3414968 and b.entries[3].rank=1, 1, if(b.entries[4].athlete_id=3414968 and b.entries[4].rank=1, 1, if(b.entries[5].athlete_id=3414968 and b.entries[5].rank=1, 1, if(b.entries[6].athlete_id=3414968 and b.entries[6].rank=1, 1, if(b.entries[7].athlete_id=3414968 and b.entries[7].rank=1, 1, if(b.entries[8].athlete_id=3414968 and b.entries[8].rank=1, 1, if(b.entries[9].athlete_id=3414968 and b.entries[9].rank=1, 1, 0))))))))))) as kom,
sum(if(b.entries[1].athlete_id=3414968 and b.entries[1].rank=2, 1, if(b.entries[2].athlete_id=3414968 and b.entries[2].rank=2, 1, if(b.entries[3].athlete_id=3414968 and b.entries[3].rank=2, 1, if(b.entries[4].athlete_id=3414968 and b.entries[4].rank=2, 1, if(b.entries[5].athlete_id=3414968 and b.entries[5].rank=2, 1, if(b.entries[6].athlete_id=3414968 and b.entries[6].rank=2, 1, if(b.entries[7].athlete_id=3414968 and b.entries[7].rank=2, 1, if(b.entries[8].athlete_id=3414968 and b.entries[8].rank=2, 1, if(b.entries[9].athlete_id=3414968 and b.entries[9].rank=2, 1, 0)))))))))) as 2nd,
sum(if(b.entries[2].athlete_id=3414968 and b.entries[2].rank=3, 1, if(b.entries[3].athlete_id=3414968 and b.entries[3].rank=3, 1, if(b.entries[4].athlete_id=3414968 and b.entries[4].rank=3, 1, if(b.entries[5].athlete_id=3414968 and b.entries[5].rank=3, 1, if(b.entries[6].athlete_id=3414968 and b.entries[6].rank=3, 1, if(b.entries[7].athlete_id=3414968 and b.entries[7].rank=3, 1, if(b.entries[8].athlete_id=3414968 and b.entries[8].rank=3, 1, if(b.entries[9].athlete_id=3414968 and b.entries[9].rank=3, 1, 0))))))))) as 3nd,
sum(if(b.entries[3].athlete_id=3414968 and b.entries[3].rank=4, 1, if(b.entries[4].athlete_id=3414968 and b.entries[4].rank=4, 1, if(b.entries[5].athlete_id=3414968 and b.entries[5].rank=4, 1, if(b.entries[6].athlete_id=3414968 and b.entries[6].rank=4, 1, if(b.entries[7].athlete_id=3414968 and b.entries[7].rank=4, 1, if(b.entries[8].athlete_id=3414968 and b.entries[8].rank=4, 1, if(b.entries[9].athlete_id=3414968 and b.entries[9].rank=4, 1, 0)))))))) as 4th,
sum(if(b.entries[4].athlete_id=3414968 and b.entries[4].rank=5, 1, if(b.entries[5].athlete_id=3414968 and b.entries[5].rank=5, 1, if(b.entries[6].athlete_id=3414968 and b.entries[6].rank=5, 1, if(b.entries[7].athlete_id=3414968 and b.entries[7].rank=5, 1, if(b.entries[8].athlete_id=3414968 and b.entries[8].rank=5, 1, if(b.entries[9].athlete_id=3414968 and b.entries[9].rank=5, 1, 0))))))) as 5th,
sum(if(b.entries[5].athlete_id=3414968 and b.entries[5].rank=6, 1, if(b.entries[6].athlete_id=3414968 and b.entries[6].rank=6, 1, if(b.entries[7].athlete_id=3414968 and b.entries[7].rank=6, 1, if(b.entries[8].athlete_id=3414968 and b.entries[8].rank=6, 1, if(b.entries[9].athlete_id=3414968 and b.entries[9].rank=6, 1, 0)))))) as 6th,
sum(if(b.entries[6].athlete_id=3414968 and b.entries[6].rank=7, 1, if(b.entries[7].athlete_id=3414968 and b.entries[7].rank=7, 1, if(b.entries[8].athlete_id=3414968 and b.entries[8].rank=7, 1, if(b.entries[9].athlete_id=3414968 and b.entries[9].rank=7, 1, 0))))) as 7th,
sum(if(b.entries[7].athlete_id=3414968 and b.entries[7].rank=8, 1, if(b.entries[8].athlete_id=3414968 and b.entries[8].rank=8, 1, if(b.entries[9].athlete_id=3414968 and b.entries[9].rank=8, 1, 0)))) as 8th,
sum(if(b.entries[8].athlete_id=3414968 and b.entries[8].rank=9, 1, if(b.entries[9].athlete_id=3414968 and b.entries[9].rank=9, 1, 0))) as 9th,
sum(if(b.entries[9].athlete_id=3414968 and b.entries[9].rank=10, 1, 0)) as 10th
FROM leaderboardforsegment b;
